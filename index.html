<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>æ€ç»´ååŒå¤„ç†å™¨ - æ™ºèƒ½è§£æå¢å¼ºç‰ˆ</title>
    
    <!-- å…ƒæ•°æ® -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta name="description" content="æ€ç»´ååŒå¤„ç†å™¨ - ä¸ªäººçŸ¥è¯†ç®¡ç†ä¸æ€ç»´æ¨¡å‹æ„å»ºå·¥å…·ï¼Œå¸®åŠ©ä½ ç»“æ„åŒ–æ€è€ƒã€ç®¡ç†è®¤çŸ¥æ¨¡å‹ã€å»ºç«‹ä¸ªäººçŸ¥è¯†ä½“ç³»">
    <meta name="keywords" content="çŸ¥è¯†ç®¡ç†,æ€ç»´æ¨¡å‹,è®¤çŸ¥å·¥å…·,ä¸ªäººæˆé•¿,æ€ç»´è®­ç»ƒ">
    <meta name="author" content="Aha">
    
    <!-- CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobile.css">
    
    <style>
        /* ç®€åŒ–è°ƒè¯•ä¿¡æ¯ */
        .debug-info {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            z-index: 9999;
            font-size: 12px;
            max-width: 300px;
            display: none;
        }
        
        /* é¢„åŠ è½½åŠ¨ç”» */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s;
        }
        
        .preloader-content {
            text-align: center;
            color: white;
        }
        
        .preloader-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- é¢„åŠ è½½åŠ¨ç”» -->
    <div class="preloader" id="preloader">
        <div class="preloader-content">
            <div class="preloader-spinner"></div>
            <p>åŠ è½½æ€ç»´ååŒå¤„ç†å™¨...</p>
        </div>
    </div>
    
    <!-- ç®€åŒ–è°ƒè¯•ä¿¡æ¯ -->
    <div class="debug-info" id="debug-info"></div>
    
    <!-- æ¡Œé¢ç«¯é¡¶éƒ¨æ  -->
    <div class="top-bar desktop-only">
        <div class="logo">
            <div class="logo-icon">ğŸ§ </div>
            <div class="logo-text">æ€ç»´ååŒå¤„ç†å™¨</div>
        </div>
        <div class="system-info">
            <span>ç‰ˆæœ¬: <strong id="current-version">v22.48</strong></span>
            <span>| æ¨¡å‹: <strong id="total-models">0</strong></span>
            <span>| æ€è€ƒ: <strong id="total-thoughts">0</strong></span>
            <span>| æ ‡ç­¾: <strong id="total-tags">0</strong></span>
        </div>
        <div class="sync-controls">
            <button class="sync-btn" id="sync-btn" title="åŒæ­¥æ•°æ®">
                <i class="fas fa-sync-alt"></i> åŒæ­¥
            </button>
            <button class="sync-btn" id="export-btn" title="å¯¼å‡ºæ•°æ®">
                <i class="fas fa-download"></i> å¯¼å‡º
            </button>
            <button class="sync-btn" id="github-export-btn" title="å¯¼å‡ºåˆ°GitHubæ–‡ä»¶">
                <i class="fas fa-cloud-upload-alt"></i> GitHub
            </button>
        </div>
        <div class="current-view" id="current-view">æ ¸å¿ƒèµ„äº§æ€»è§ˆ</div>
    </div>
    
    <!-- ç§»åŠ¨ç«¯é¡¶éƒ¨å¯¼èˆª -->
    <div class="mobile-header">
        <div class="mobile-header-inner">
            <div class="mobile-header-left">
                <button class="mobile-menu-toggle" id="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="mobile-logo">
                    <span class="mobile-logo-icon">ğŸ§ </span>
                    <span class="mobile-logo-text">æ€ç»´ååŒ</span>
                </div>
            </div>
            
            <div class="mobile-header-right">
                <button class="mobile-search-toggle" id="mobile-search-toggle">
                    <i class="fas fa-search"></i>
                </button>
                <button class="mobile-view-toggle" id="mobile-view-toggle">
                    <i class="fas fa-th-large"></i>
                </button>
            </div>
        </div>
        
        <!-- ç§»åŠ¨ç«¯æœç´¢æ¡† -->
        <div class="mobile-search-bar" id="mobile-search-bar">
            <div class="mobile-search-input">
                <i class="fas fa-search"></i>
                <input type="text" id="mobile-search-input" placeholder="æœç´¢æ€è€ƒè®°å½•æˆ–æ¨¡å‹...">
                <button class="mobile-search-clear" id="mobile-search-clear">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        
        <!-- ç§»åŠ¨ç«¯å¿«æ·è§†å›¾åˆ‡æ¢ -->
        <div class="mobile-view-switcher" id="mobile-view-switcher">
            <div class="mobile-view-options">
                <button class="mobile-view-option active" data-view="overview">
                    <i class="fas fa-chart-pie"></i>
                    <span>æ¦‚è§ˆ</span>
                </button>
                <button class="mobile-view-option" data-view="thoughts">
                    <i class="fas fa-list-ul"></i>
                    <span>æ€è€ƒ</span>
                </button>
                <button class="mobile-view-option" data-view="models">
                    <i class="fas fa-cube"></i>
                    <span>æ¨¡å‹</span>
                </button>
                <button class="mobile-view-option" data-view="keywords">
                    <i class="fas fa-tags"></i>
                    <span>æ ‡ç­¾</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- å·¦ä¾§å¯¼èˆªæ  -->
        <div class="sidebar">
            <div class="nav-section">
                <h3><i class="fas fa-compass"></i> æ ¸å¿ƒå¯¼èˆª</h3>
                <ul class="nav-links">
                    <li><a href="#" class="active" data-view="overview"><i class="fas fa-chart-pie"></i> æ ¸å¿ƒèµ„äº§æ€»è§ˆ</a></li>
                    <li><a href="#" data-view="add-structured"><i class="fas fa-plus-circle"></i> ç»“æ„åŒ–è¾“å…¥æ€è€ƒ</a></li>
                    <li><a href="#" data-view="thoughts"><i class="fas fa-list-ul"></i> æ€è€ƒç›®å½•å®Œæ•´æ¸…å•</a></li>
                    <li><a href="#" data-view="models"><i class="fas fa-cube"></i> æ ¸å¿ƒæ€ç»´æ¨¡å‹ç´¢å¼•</a></li>
                    <li><a href="#" data-view="add-model"><i class="fas fa-plus-square"></i> åˆ›å»ºæ€ç»´æ¨¡å‹</a></li>
                    <li><a href="#" data-view="keywords"><i class="fas fa-search"></i> æ ‡ç­¾åˆ†ç±»æ£€ç´¢</a></li>
                    <li><a href="#" data-view="network-analysis"><i class="fas fa-project-diagram"></i> æ¨¡å‹å…³è”ç½‘ç»œåˆ†æ</a></li>
                    <li><a href="#" data-view="timeline"><i class="fas fa-road"></i> ç³»ç»Ÿæ¼”è¿›å†ç¨‹</a></li>
                </ul>
            </div>
            
            <div class="nav-section">
                <h3><i class="fas fa-tools"></i> ç³»ç»Ÿå·¥å…·</h3>
                <ul class="nav-links">
                    <li><a href="#" data-view="how-to-use"><i class="fas fa-question-circle"></i> å¦‚ä½•ä½¿ç”¨æœ¬ç³»ç»Ÿ</a></li>
                    <li><a href="#" data-view="milestones"><i class="fas fa-road"></i> ç³»ç»Ÿæ¼”è¿›é‡Œç¨‹ç¢‘</a></li>
                    <li><a href="#" data-view="architecture"><i class="fas fa-sitemap"></i> ç³»ç»Ÿæ¶æ„ç‰¹æ€§</a></li>
                    <li><a href="#" data-view="tag-review"><i class="fas fa-tags"></i> æ ‡ç­¾å¤æ ¸ä¸­å¿ƒ</a></li>
                    <li><a href="#" data-view="data-management"><i class="fas fa-database"></i> æ•°æ®ç®¡ç†ä¸å¤‡ä»½</a></li>
                </ul>
            </div>
            
            <div class="version-selector">
                <label for="version-select">æ•°æ®ç‰ˆæœ¬:</label>
                <select id="version-select">
                    <option value="initial">åˆå§‹ç‰ˆæœ¬</option>
                    <option value="current" selected>å½“å‰ç‰ˆæœ¬</option>
                </select>
            </div>
        </div>
        
        <!-- ä¸»å†…å®¹åŒº -->
        <div class="content-area" id="content-area">
            <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€å¡«å…… -->
        </div>
        
        <!-- å³ä¾§é¢æ¿ -->
        <div class="right-panel">
            <div class="search-section">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="æœç´¢æ€è€ƒè®°å½•æˆ–æ¨¡å‹...">
                </div>
                <div class="filter-options">
                    <select id="category-filter">
                        <option value="all">æ‰€æœ‰ç±»åˆ«</option>
                        <option value="thought">æ€è€ƒè®°å½•</option>
                        <option value="model">æ€ç»´æ¨¡å‹</option>
                    </select>
                </div>
            </div>
            
            <div class="status-section">
                <h3><i class="fas fa-heartbeat"></i> ç³»ç»ŸçŠ¶æ€</h3>
                <div class="status-item">
                    <span class="status-label">æœ€åä¿å­˜</span>
                    <span class="status-value" id="last-saved">åˆšåˆš</span>
                </div>
                <div class="status-item">
                    <span class="status-label">æ•°æ®å®Œæ•´</span>
                    <span class="status-value" id="data-integrity">100%</span>
                </div>
                <div class="status-item">
                    <span class="status-label">å­˜å‚¨æ¨¡å¼</span>
                    <span class="status-value" id="storage-mode">æœ¬åœ°å­˜å‚¨</span>
                </div>
            </div>
            
            <div class="data-section">
                <h3><i class="fas fa-database"></i> æ•°æ®æ“ä½œ</h3>
                <div class="data-actions">
                    <button class="data-btn export" id="export-all-btn">
                        <i class="fas fa-download"></i> å¯¼å‡ºå…¨éƒ¨æ•°æ®
                    </button>
                    <button class="data-btn import" id="import-data-btn">
                        <i class="fas fa-upload"></i> å¯¼å…¥æ•°æ®æ–‡ä»¶
                    </button>
                </div>
            </div>
            
            <div class="how-to-use">
                <h3><i class="fas fa-question-circle"></i> ä½¿ç”¨æç¤º</h3>
                <ul class="steps-list">
                    <li><strong>ç”µè„‘ç«¯</strong>ï¼šå®Œæ•´çš„æ•°æ®ç¼–è¾‘å’Œç®¡ç†åŠŸèƒ½</li>
                    <li><strong>ç§»åŠ¨ç«¯</strong>ï¼šæ•°æ®æµè§ˆå’Œæœç´¢åŠŸèƒ½</li>
                    <li><strong>æ•°æ®åŒæ­¥</strong>ï¼šç”µè„‘ç«¯å¯¼å‡º â†’ ç§»åŠ¨ç«¯å¯¼å…¥</li>
                    <li><strong>æ•°æ®å®‰å…¨</strong>ï¼šæ‰€æœ‰æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆª -->
    <div class="mobile-bottom-nav">
        <div class="mobile-bottom-nav-inner">
            <a href="#" class="mobile-nav-item active" data-view="overview">
                <i class="fas fa-home"></i>
                <span>é¦–é¡µ</span>
            </a>
            <a href="#" class="mobile-nav-item" data-view="thoughts">
                <i class="fas fa-brain"></i>
                <span>æ€è€ƒ</span>
            </a>
            <a href="#" class="mobile-nav-item" data-view="models">
                <i class="fas fa-cubes"></i>
                <span>æ¨¡å‹</span>
            </a>
            <a href="#" class="mobile-nav-item" data-view="keywords">
                <i class="fas fa-tags"></i>
                <span>æ ‡ç­¾</span>
            </a>
        </div>
    </div>
    
    <!-- æ¨¡æ€æ¡† -->
    <div id="delete-modal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <h3>ç¡®è®¤åˆ é™¤</h3>
            <p id="delete-message">ç¡®å®šè¦åˆ é™¤æ­¤é¡¹å—ï¼Ÿ</p>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="App.closeModal('delete-modal')">å–æ¶ˆ</button>
                <button class="btn btn-danger" onclick="App.confirmDelete()">åˆ é™¤</button>
            </div>
        </div>
    </div>

    <!-- JavaScript æ–‡ä»¶ -->
    <script src="script.js"></script>
    <script src="mobile.js"></script>
    <script src="data-sync.js"></script>
    
    <script>
    // ç®€åŒ–çš„åˆå§‹åŒ–é€»è¾‘
    window.addEventListener('load', function() {
        console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–åº”ç”¨...');
        
        // éšè—é¢„åŠ è½½åŠ¨ç”»
        const preloader = document.getElementById('preloader');
        if (preloader) {
            preloader.style.opacity = '0';
            setTimeout(() => {
                preloader.style.display = 'none';
            }, 300);
        }
        
        // åˆå§‹åŒ–åº”ç”¨
        setTimeout(function() {
            try {
                if (typeof App !== 'undefined') {
                    App.init();
                } else {
                    console.error('Appå¯¹è±¡æœªå®šä¹‰');
                    document.getElementById('content-area').innerHTML = `
                        <div class="error-state">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>åº”ç”¨åˆå§‹åŒ–å¤±è´¥</h3>
                            <p>è„šæœ¬åŠ è½½é”™è¯¯ï¼Œè¯·åˆ·æ–°é¡µé¢</p>
                            <button onclick="window.location.reload()" class="btn btn-primary">åˆ·æ–°é¡µé¢</button>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('åˆå§‹åŒ–é”™è¯¯:', error);
                document.getElementById('content-area').innerHTML = `
                    <div class="error-state">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>åˆå§‹åŒ–é”™è¯¯</h3>
                        <p>${error.message}</p>
                        <button onclick="window.location.reload()" class="btn btn-primary">åˆ·æ–°é¡µé¢</button>
                    </div>
                `;
            }
        }, 300);
    });
    </script>
</body>
</html>
